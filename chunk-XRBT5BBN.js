import{a as We}from"./chunk-XH55S5SO.js";import{a as He,b as $e,c as he}from"./chunk-J6JTIABC.js";import{E as Le,F as le,H as ce,K as Re,M as Ve,N as Ue,q,r as Oe}from"./chunk-WGHRGTKE.js";import"./chunk-7TRG72WA.js";import"./chunk-ATW432D2.js";import{$a as $,A as be,Ab as we,Bb as Ie,Bc as S,Cb as de,Cc as N,Db as _,E as se,Eb as f,F as re,Fb as Ae,I as D,Jb as z,K,L as Ee,Lb as Q,Mb as g,Ob as Se,Rb as Fe,Sb as j,Tb as L,Ua as y,Ub as R,V as oe,W as E,Wa as Me,X as T,Y as M,a as ve,ac as v,b as ye,ba as U,cc as J,da as Te,dc as Be,eb as C,fa as c,fb as W,gb as p,hc as b,ib as k,j as B,jb as ke,k as x,l as De,mb as ae,n as h,p as Ce,r as u,s as P,tc as Pe,v as ne,vb as A,x as ie,xa as O,yb as Ne,yc as V,za as H,zc as Ke}from"./chunk-IDVU2DUC.js";var ue=class{dataNodes;expansionModel=new he(!0);trackBy;getLevel;isExpandable;getChildren;toggle(r){this.expansionModel.toggle(this._trackByValue(r))}expand(r){this.expansionModel.select(this._trackByValue(r))}collapse(r){this.expansionModel.deselect(this._trackByValue(r))}isExpanded(r){return this.expansionModel.isSelected(this._trackByValue(r))}toggleDescendants(r){this.expansionModel.isSelected(this._trackByValue(r))?this.collapseDescendants(r):this.expandDescendants(r)}collapseAll(){this.expansionModel.clear()}expandDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(r){return this.trackBy?this.trackBy(r):r}},Y=class extends ue{getLevel;isExpandable;options;constructor(r,e,t){super(),this.getLevel=r,this.isExpandable=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(r){let e=this.dataNodes.indexOf(r),t=[];for(let n=e+1;n<this.dataNodes.length&&this.getLevel(r)<this.getLevel(this.dataNodes[n]);n++)t.push(this.dataNodes[n]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(r=>this._trackByValue(r)))}};var _e=new Te("CDK_TREE_NODE_OUTLET_NODE"),G=(()=>{class i{viewContainer=c($);_node=c(_e,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["","cdkTreeNodeOutlet",""]]})}return i})(),pe=class{$implicit;level;index;count;constructor(r){this.$implicit=r}},X=(()=>{class i{template=c(Me);when;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return i})();function ze(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var F=(()=>{class i{_differs=c(Ke);_changeDetectorRef=c(V);_elementRef=c(H);_dir=c(le);_onDestroy=new B;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new x({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new x([]);_nodeType=new x(null);_nodes=new x(new Map);_keyManagerNodes=new x([]);_keyManagerFactory=c(Oe);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new he(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;$e(this._dataSource)?e=this._dataSource.connect(this):Ce(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=h(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(T(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return P([e,this._nodeType,t.changed.pipe(oe(null),M(n=>{this._emitExpansionChanges(n)}))]).pipe(E(([n,s])=>s===null?h({renderNodes:n,flattenedNodes:null,nodeType:s}):this._computeRenderingData(n,s).pipe(u(o=>ye(ve({},o),{nodeType:s})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let n of e.added)t.get(n)?._emitExpansionState(!0);for(let n of e.removed)t.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){let e=P([this._keyManagerNodes,this._nodes]).pipe(u(([n,s])=>n.reduce((o,a)=>{let d=s.get(this._getExpansionKey(a));return d&&o.push(d),o},[]))),t={trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,n=this._nodeOutlet.viewContainer,s){let o=t.diff(e);!o&&!this._viewInit||(o?.forEachOperation((a,d,l)=>{if(a.previousIndex==null)this.insertNode(e[l],l,n,s);else if(l==null)n.remove(d);else{let m=n.get(d);n.move(m,l)}}),o?.forEachIdentityChange(a=>{let d=a.item;if(a.currentIndex!=null){let l=n.get(a.currentIndex);l.context.$implicit=d}}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let n=this._nodeDefs.find(s=>s.when&&s.when(t,e))||this._defaultNodeDef;return n}insertNode(e,t,n,s){let o=this._getLevelAccessor(),a=this._getNodeDef(e,t),d=this._getExpansionKey(e),l=new pe(e);s??=this._parents.get(d)??void 0,o?l.level=o(e):s!==void 0&&this._levels.has(this._getExpansionKey(s))?l.level=this._levels.get(this._getExpansionKey(s))+1:l.level=0,this._levels.set(d,l.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,l,t),w.mostRecentTreeNode&&(w.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(D(1),T(this._onDestroy)).subscribe(n=>{t.select(...n.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(D(1),T(this._onDestroy)).subscribe(n=>{t.deselect(...n.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return h([]);let s=this._getExpansionKey(e),o=n.changed.pipe(E(d=>d.added.includes(s)?h(!0):d.removed.includes(s)?h(!1):De),oe(this.isExpanded(e)));if(t)return P([o,this._flattenedNodes]).pipe(u(([d,l])=>d?this._findChildrenByLevel(t,l,e,1):[]));let a=this._getChildrenAccessor();if(a)return q(a(e)??[]);throw ze()}_findChildrenByLevel(e,t,n,s){let o=this._getExpansionKey(n),a=t.findIndex(I=>this._getExpansionKey(I)===o),d=e(n),l=d+s,m=[];for(let I=a+1;I<t.length;I++){let xe=e(t[I]);if(xe<=d)break;xe<=l&&m.push(t[I])}return m}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),n=this._getExpansionKey(e);return t.findIndex(s=>this._getExpansionKey(s)===n)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(u(t=>t.reduce((n,s)=>{let o=this._nodes.value.get(this._getExpansionKey(s));return o&&n.push(o),n},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let t=this._nodes.getValue();for(let[,n]of t)if(e.target===n._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return h(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return h(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(se((t,n)=>(t.push(...n),t),[]));throw ze()}_getAllChildrenRecursively(e){return this.childrenAccessor?q(this.childrenAccessor(e)).pipe(D(1),E(t=>{for(let n of t)this._parents.set(this._getExpansionKey(n),e);return h(...t).pipe(re(n=>ne(h([n]),this._getAllChildrenRecursively(n))))})):h([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),n=this._parents.get(t),s=n?this._getExpansionKey(n):null;return this._ariaSets.get(s)??[e]}_findParentForNode(e,t,n){if(!n.length)return null;let s=this._levels.get(this._getExpansionKey(e))??0;for(let o=t-1;o>=0;o--){let a=n[o];if((this._levels.get(this._getExpansionKey(a))??0)<s)return a}return null}_flattenNestedNodesWithExpansion(e,t=0){let n=this._getChildrenAccessor();return n?h(...e).pipe(re(s=>{let o=this._getExpansionKey(s);this._parents.has(o)||this._parents.set(o,null),this._levels.set(o,t);let a=q(n(s));return ne(h([s]),a.pipe(D(1),M(d=>{this._ariaSets.set(o,[...d??[]]);for(let l of d??[]){let m=this._getExpansionKey(l);this._parents.set(m,s),this._levels.set(m,t+1)}}),E(d=>d?this._flattenNestedNodesWithExpansion(d,t+1).pipe(u(l=>this.isExpanded(s)?l:[])):h([]))))}),se((s,o)=>(s.push(...o),s),[])):h([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(u(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&t==="nested"){let n=this.levelAccessor;return h(e.filter(s=>n(s)===0)).pipe(u(s=>({renderNodes:s,flattenedNodes:e})),M(({flattenedNodes:s})=>{this._calculateParents(s)}))}else return t==="flat"?h({renderNodes:e,flattenedNodes:e}).pipe(M(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(u(n=>({renderNodes:e,flattenedNodes:n}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._clearPreviousCache();for(let n=0;n<e.length;n++){let s=e[n],o=this._getExpansionKey(s);this._levels.set(o,t(s));let a=this._findParentForNode(s,n,e);this._parents.set(o,a);let d=a?this._getExpansionKey(a):null,l=this._ariaSets.get(d)??[];l.splice(n,0,s),this._ariaSets.set(d,l)}}}_forEachExpansionKey(e){let t=[],n=[];this._nodes.value.forEach(s=>{t.push(this._getExpansionKey(s.data)),n.push(this._getDescendants(s.data))}),n.length>0?P(n).pipe(D(1),T(this._onDestroy)).subscribe(s=>{s.forEach(o=>o.forEach(a=>t.push(this._getExpansionKey(a)))),e(t)}):e(t)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["cdk-tree"]],contentQueries:function(t,n,s){if(t&1&&Fe(s,X,5),t&2){let o;L(o=R())&&(n._nodeDefs=o)}},viewQuery:function(t,n){if(t&1&&j(G,7),t&2){let s;L(s=R())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,n){t&1&&g("keydown",function(o){return n._sendKeydownToKeyManager(o)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,n){t&1&&z(0,0)},dependencies:[G],encapsulation:2})}return i})(),w=(()=>{class i{_elementRef=c(H);_tree=c(F);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new ae;expandedChange=new ae;static mostRecentTreeNode=null;_destroyed=new B;_dataChanges=new B;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=c(V);constructor(){i.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=tt(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(u(()=>this.isExpanded),Ee(),T(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,n){t&1&&g("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),t&2&&(Q("tabIndex",n._tabindex),A("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",S],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",S],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return i})();function tt(i){let r=i.parentElement;for(;r&&!nt(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?N(r.getAttribute("aria-level")):0:-1}function nt(i){let r=i.classList;return!!(r?.contains("cdk-nested-tree-node")||r?.contains("cdk-tree"))}var it=/([A-Za-z%]+)$/,ge=(()=>{class i{_treeNode=c(w);_tree=c(F);_element=c(H);_dir=c(le,{optional:!0});_currentPadding;_destroyed=new B;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(T(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=this._level==null?e:this._level;return typeof t=="number"?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let t=this._paddingIndent();if(t!==this._currentPadding||e){let n=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",o=s==="paddingLeft"?"paddingRight":"paddingLeft";n.style[s]=t||"",n.style[o]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,n="px";if(typeof e=="string"){let s=e.split(it);t=s[0],n=s[1]||n}this.indentUnits=n,this._indent=N(t),this._setPadding()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",N],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return i})(),me=(()=>{class i{_tree=c(F);_treeNode=c(w);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,n){t&1&&g("click",function(o){return n._toggle(),o.stopPropagation()})("keydown.Enter",function(o){return n._toggle(),o.preventDefault()})("keydown.Space",function(o){return n._toggle(),o.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",S]}})}return i})();var Qe=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=W({type:i});static \u0275inj=U({})}return i})();function st(i){return!!i._isNoopTreeKeyManager}var Je=(()=>{class i extends w{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return st(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(){super();let e=c(new Pe("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(e)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(t,n){t&1&&g("click",function(){return n._focusItem()}),t&2&&(Q("tabIndex",n._getTabindexAttribute()),A("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:N(e)],disabled:[2,"disabled","disabled",S]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[b([{provide:w,useExisting:i}]),k]})}return i})(),qe=(()=>{class i extends X{data;static \u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})();static \u0275dir=p({type:i,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[b([{provide:X,useExisting:i}]),k]})}return i})();var Ye=(()=>{class i extends ge{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})();static \u0275dir=p({type:i,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",N],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[b([{provide:ge,useExisting:i}]),k]})}return i})(),je=(()=>{class i{viewContainer=c($);_node=c(_e,{optional:!0});static \u0275fac=function(t){return new(t||i)};static \u0275dir=p({type:i,selectors:[["","matTreeNodeOutlet",""]],features:[b([{provide:G,useExisting:i}])]})}return i})(),Ge=(()=>{class i extends F{_nodeOutlet=void 0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})();static \u0275cmp=C({type:i,selectors:[["mat-tree"]],viewQuery:function(t,n){if(t&1&&j(je,7),t&2){let s;L(s=R())&&(n._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[b([{provide:F,useExisting:i}]),k],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,n){t&1&&z(0,0)},dependencies:[je],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return i})(),Xe=(()=>{class i extends me{static \u0275fac=(()=>{let e;return function(n){return(e||(e=O(i)))(n||i)}})();static \u0275dir=p({type:i,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[b([{provide:me,useExisting:i}]),k]})}return i})();var Ze=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=W({type:i});static \u0275inj=U({imports:[Qe,ce,ce]})}return i})(),Z=class{transformFunction;getLevel;isExpandable;getChildren;constructor(r,e,t,n){this.transformFunction=r,this.getLevel=e,this.isExpandable=t,this.getChildren=n}_flattenNode(r,e,t,n){let s=this.transformFunction(r,e);if(t.push(s),this.isExpandable(s)){let o=this.getChildren(r);o&&(Array.isArray(o)?this._flattenChildren(o,e,t,n):o.pipe(D(1)).subscribe(a=>{this._flattenChildren(a,e,t,n)}))}return t}_flattenChildren(r,e,t,n){r.forEach((s,o)=>{let a=n.slice();a.push(o!=r.length-1),this._flattenNode(s,e+1,t,a)})}flattenNodes(r){let e=[];return r.forEach(t=>this._flattenNode(t,0,e,[])),e}expandFlattenedNodes(r,e){let t=[],n=[];return n[0]=!0,r.forEach(s=>{let o=!0;for(let a=0;a<=this.getLevel(s);a++)o=o&&n[a];o&&t.push(s),this.isExpandable(s)&&(n[this.getLevel(s)+1]=e.isExpanded(s))}),t}},ee=class extends He{_treeControl;_treeFlattener;_flattenedData=new x([]);_expandedData=new x([]);get data(){return this._data.value}set data(r){this._data.next(r),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new x([]);constructor(r,e,t){super(),this._treeControl=r,this._treeFlattener=e,t&&(this.data=t)}connect(r){return be(r.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(u(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}};function at(i,r){if(i&1&&(_(0,"mat-tree-node",3),v(1),f()),i&2){let e=r.$implicit;y(),J(" ",e.item," ")}}function dt(i,r){if(i&1&&(_(0,"mat-tree-node",4)(1,"button",5)(2,"mat-icon"),v(3),f()(),v(4),f()),i&2){let e=r.$implicit,t=Se();y(),A("aria-label","toggle "+e.item),y(2),J(" ",t.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),y(),J(" ",e.item," ")}}var lt=[{name:"Fruits",children:[{name:"Apple"},{name:"Banana"}]},{name:"Vegetables",children:[{name:"Green",children:[{name:"Broccoli"},{name:"Spinach"}]},{name:"Yellow",children:[{name:"Corn"},{name:"Bell pepper"}]}]}],te=class i{treeControl=new Y(r=>r.level,r=>r.expandable);_transformer=(r,e)=>({item:r.name,level:e,expandable:!!r.children?.length});treeFlattener=new Z(this._transformer,r=>r.level,r=>r.expandable,r=>r.children);dataSource=new ee(this.treeControl,this.treeFlattener);constructor(){this.dataSource.data=lt}hasChild=(r,e)=>e.expandable;ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ng-tree"]],decls:3,vars:3,consts:[[3,"treeControl","dataSource"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["matTreeNodePadding","","matTreeNodeToggle",""],["mat-icon-button",""]],template:function(e,t){e&1&&(_(0,"mat-tree",0),ke(1,at,2,1,"mat-tree-node",1)(2,dt,5,3,"mat-tree-node",2),f()),e&2&&(de("treeControl",t.treeControl)("dataSource",t.dataSource),y(2),de("matTreeNodeDefWhen",t.hasChild))},dependencies:[Ze,qe,Ye,Xe,Ge,Je,Re,Le,Ue,Ve],styles:[".mat-tree-node[_ngcontent-%COMP%]{min-height:48px;display:flex;align-items:center}.mat-tree-node.is-expandable[_ngcontent-%COMP%]{font-weight:700}.mat-tree-node[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}"]})};function ct(i,r){if(i&1&&(_(0,"li"),v(1),f()),i&2){let e=r.$implicit,t=r.$index;y(),Be("",t,"-",e.name)}}var et=class i{courses=[{id:1,name:"Angular For Beginners"},{id:2,name:"Angular Core Deep Dive"},{id:3,name:"Angular Forms In Depth"}];alertService=c(We);$cd=c(V);constructor(){this.rxjsExample()}updateWithoutMarkForCheck(){setTimeout(()=>{this.courses[0].name="Updated WITHOUT markForCheck"},1e3)}updateWithMarkForCheck(){setTimeout(()=>{this.courses[0].name="Updated WITH markForCheck",this.$cd.markForCheck()},1e3)}updateWithDetectChanges(){setTimeout(()=>{this.courses[0].name="Updated WITH detectChanges",this.$cd.detectChanges()},1e3)}trackCourse(r,e){return e.id}showAlert(){this.alertService.info({errors:[{message:"This is an info alert"}],timeout:5e3}),this.alertService.success({errors:[{message:"This is a success alert"}],timeout:5e3}),this.alertService.warning({errors:[{message:"This is a warning alert"}],timeout:5e3}),this.alertService.error({errors:[{message:"This is an error alert"}]})}rxjsExample(){let r=h({id:1,name:"John Doe"}).pipe(K(1e3)),e=h({theme:"dark",language:"en"}).pipe(K(1200)),t=h([{id:101,item:"Laptop",amount:1200},{id:102,item:"Phone",amount:800}]).pipe(K(800)),n=h([{id:201,message:"Order shipped",read:!1},{id:202,message:"New support message",read:!0}]).pipe(K(900));ie({user:r,settings:e}).pipe(E((s,o)=>(console.log("\u2705 First forkJoin result:",s,o),ie({orders:t,notifications:n,user:h(s),settings:h(o)}).pipe(M(()=>{console.log("Second forkJoin completed")}),u(({orders:a,notifications:d,user:l,settings:m})=>({orders:a,notifications:d,user:l,settings:m})))))).subscribe(s=>{console.log("\u2705 Second forkJoin result:",s)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ng-express-builder"]],decls:12,vars:0,consts:[["type","button",3,"click"]],template:function(e,t){e&1&&(_(0,"ul"),we(1,ct,2,2,"li",null,Ne),f(),_(3,"button",0),g("click",function(){return t.showAlert()}),v(4,"Show Alert"),f(),_(5,"button",0),g("click",function(){return t.updateWithoutMarkForCheck()}),v(6,"Update without markForCheck"),f(),_(7,"button",0),g("click",function(){return t.updateWithMarkForCheck()}),v(8,"Update with markForCheck"),f(),_(9,"button",0),g("click",function(){return t.updateWithDetectChanges()}),v(10,"Update with detectChanges"),f(),Ae(11,"ng-tree")),e&2&&(y(),Ie(t.courses))},dependencies:[te],encapsulation:2,changeDetection:0})};export{et as ExpressBuilderComponent};
